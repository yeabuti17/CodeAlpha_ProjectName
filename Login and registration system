#include <iostream>
#include <fstream> //used for file handling
using namespace std;

int main() {

    int choice;
    string username, password;
    string savedUser, savedPass;

    cout << "1. Register\n";
    cout << "2. Login\n";
    cout << "Enter your choice: ";
    cin >> choice;

  
    if (choice == 1) {

        cout <<"Register\n";
        cout << "Enter username: ";
        cin >> username;

        cout << "Enter password: ";
        cin >> password;

        ofstream file(username + ".txt");//to create a file with a username
        file << username << endl;
        file << password;
        file.close();

        cout << "Registration successful!\n";
    }

    
    else if (choice == 2) {

        cout << "Login";
        cout << "Enter username: ";
        cin >> username;

        cout << "Enter password: ";
        cin >> password;

        ifstream file(username + ".txt");//to open the file that has the username as its name

        if (!file) {
            cout << "User does not exist!\n";
            return 0;
        }

        getline(file, savedUser);
        getline(file, savedPass);

        if (username == savedUser && password == savedPass)
            cout << "Login successful!\n";
        else
            cout << "Wrong password!\n";
    }

    else {
        cout << "Invalid choice!";
    }

    return 0;
}
